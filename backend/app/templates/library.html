<!DOCTYPE html>
<html>
<head>
    <title>My Books</title>
</head>
<body>
    <h1>My Books</h1>
    <div class="books-list">
        {% for book in books %}
        <!-- Add a data-id attribute to each book item -->
        <div class="book-item" data-id="{{ book.id }}">
            <h2>{{ book.book_title }}</h2>
            <p><strong>Author:</strong> {{ book.authors_first_name }} {{ book.authors_last_name }}</p>
            <p><strong>Genre:</strong> {{ book.genre }}</p>
            <p><strong>Pages:</strong> {{ book.pages }}</p>
            <!-- Add a button/link to view details -->
            <a href="{{ url_for('api.get_single_book', id=book.id) }}">View Details</a>
        </div>
        {% endfor %}
    </div>

    <!-- JavaScript to handle pop-up/modal for book details -->
    <script>
        // Handle pop-up/modal for book details
        var bookItems = document.querySelectorAll('.book-item');
        bookItems.forEach(function(item) {
            item.addEventListener('click', function(event) {
                event.preventDefault(); // Prevent default link behavior
                var bookId = this.getAttribute('data-id');
                window.location.href = "{{ url_for('api.get_single_book', id='') }}" + bookId;
            });
        });
    </script>
</body>
</html>
